<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Song Array Construction</title>

</head>

<body>
    <h2 id="displayDiv"></h2>
    <h2 class="artist"></h2>
    <div id="map">See console for array</div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>
    <link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css" />
    <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>

    <script>
        var config = {
            apiKey: "AIzaSyCSgNJHvbAHX2hITADtnnUWBLraMFI7_lA",
            authDomain: "propsong-c1980.firebaseapp.com",
            databaseURL: "https://propsong-c1980.firebaseio.com",
            projectId: "propsong-c1980",
            storageBucket: "propsong-c1980.appspot.com",
            messagingSenderId: "657030694604"
        };
        firebase.initializeApp(config);
        var database = firebase.database();
        var arrayRef = firebase.database().ref("songs/");


        var songArray = [];

        function hipHopArray() {
            var queryURL = "https://itunes.apple.com/search?term=hip+hop&limit=200";

            $.ajax({
                url: queryURL,
                dataType: "jsonp",
                success: function (response) {

                    for (var i = 0; i < 200; i++) {

                        if (response.results[i].trackName) {
                            songArray.push(
                                {
                                    name: response.results[i].trackName,
                                    artist: response.results[i].artistName,
                                }
                            )

                        };

                    }
                    console.log("hiphop");
                    arrayRef.set(songArray);
                }
            });


        };

        function alternativeArray() {
            var queryURL = "https://itunes.apple.com/search?term=alternative&limit=200";

            $.ajax({
                url: queryURL,
                dataType: "jsonp",
                success: function (response) {


                    for (var i = 0; i < 200; i++) {
                        if (response.results[i].trackName) {
                            songArray.push(
                                {
                                    name: response.results[i].trackName,
                                    artist: response.results[i].artistName,
                                }
                            )
                        };
                    }
                    arrayRef.set(songArray);
                    console.log("alternative")
                }
            });
            
        };

        function popArray() {
            var queryURL = "https://itunes.apple.com/search?term=pop&limit=200";

            $.ajax({
                url: queryURL,
                dataType: "jsonp",
                success: function (response) {

                    for (var i = 0; i < 200; i++) {
                        if (response.results[i].trackName) {
                            songArray.push(
                                {
                                    name: response.results[i].trackName,
                                    artist: response.results[i].artistName,
                                }
                            )
                        };
                    }
                arrayRef.set(songArray);
                console.log("pop")
                }
            });
        };

        function countryArray() {
            var queryURL = "https://itunes.apple.com/search?term=country&limit=200";

            $.ajax({
                url: queryURL,
                dataType: "jsonp",
                success: function (response) {

                    for (var i = 0; i < 200; i++) {
                        if (response.results[i].trackName) {
                            songArray.push(
                                {
                                    name: response.results[i].trackName,
                                    artist: response.results[i].artistName,
                                }
                            )
                        };
                    }
                    arrayRef.set(songArray);  
                    console.log("country")
                }
                
            });
        };

        function danceArray() {
            var queryURL = "https://itunes.apple.com/search?term=dance&limit=200";

            $.ajax({
                url: queryURL,
                dataType: "jsonp",
                success: function (response) {
                    for (var i = 0; i < 200; i++) {
                        if (response.results[i].trackName) {
                            songArray.push(
                                {
                                    name: response.results[i].trackName,
                                    artist: response.results[i].artistName,
                                }
                            )
                        };
                    }
                    arrayRef.set(songArray);
                }
            });
        };

        function newAgeArray() {
            var queryURL = "https://itunes.apple.com/search?term=new+age&limit=200";

            $.ajax({
                url: queryURL,
                dataType: "jsonp",
                success: function (response) {
                    for (var i = 0; i < 200; i++) {
                        if (response.results[i].trackName) {
                            songArray.push(
                                {
                                    name: response.results[i].trackName,
                                    artist: response.results[i].artistName,
                                }
                            )
                        };
                    }
                    arrayRef.set(songArray);
                }

            });
        };

        hipHopArray();
        alternativeArray();
        popArray();
        countryArray();
        danceArray();
        newAgeArray();











    </script>



</body>

</html>